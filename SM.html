<!DOCTYPE html>
<html lang="en">

<head>
    <title>Tamil Nadu Generation and Distribution Corporation Limited (TANGEDCO)</title>
    <!-- HTML5 Shim and Respond.js IE9 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
     <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
     <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
     <![endif]-->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <!-- Favicon icon -->
    <link rel="shortcut icon" href="https://www.tangedco.gov.in/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="https://www.tangedco.gov.in/images/favicon.ico" type="image/x-icon">
    <!-- Google font-->
    <link href="https://fonts.googleapis.com/css?family=Ubuntu:400,500,700" rel="stylesheet">
    <!-- themify -->
    <link rel="stylesheet" type="text/css" href="assets/icon/themify-icons/themify-icons.css">
    <!-- iconfont -->
    <link rel="stylesheet" type="text/css" href="assets/icon/icofont/css/icofont.css">
    <!-- simple line icon -->
    <link rel="stylesheet" type="text/css" href="assets/icon/simple-line-icons/css/simple-line-icons.css">
    <!-- Required Fremwork -->
    <link rel="stylesheet" type="text/css" href="assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Chartlist chart css -->
    <link rel="stylesheet" href="assets/plugins/chartist/dist/chartist.css" type="text/css" media="all">
    <!-- Weather css -->
    <link href="assets/css/svg-weather.css" rel="stylesheet">
    <!-- Style.css -->
    <link rel="stylesheet" type="text/css" href="assets/css/main.css">
    <!-- Responsive.css-->
    <link rel="stylesheet" type="text/css" href="assets/css/responsive.css">
    <style type="text/css">
    table,
    th,
    td {
        border: 1px solid black;
        border-collapse: collapse;
    }

    .wrapper {
        margin: 20px;
    }

    .hide {
        display: none;
    }

    .text--center {
        display: block;
        text-align: center;
    }

    .is-droppable {
        border: 1px dashed #ccc;
        // border-radius: 10px;
        padding: 20px;
        margin: 20px 0;

        &.is-dragover {
            // color: #fff;
            border-color: #999;
            background-color: #e2e2e2;
        }
    }

    .btn--link {
        color: #0079c1;
        background: none;
        border: 0;
        padding: 0;
        cursor: pointer;
    }

    .js .box__file {
        display: none;
    }
    </style>
</head>

<body class="sidebar-mini fixed">
    <div class="loader-bg">
        <div class="loader-bar">
        </div>
    </div>
    <div class="wrapper">
        <!-- Navbar-->
        <header class="main-header-top hidden-print">
            <a href="index.html" class="logo">
                <!-- <img class="img-fluid able-logo" style="    width: 58px;" src="https://upload.wikimedia.org/wikipedia/en/6/62/TANGEDCO_Logo.png" alt="Theme-logo"> --> <b>TANGEDCO</b></a>
            <nav class="navbar navbar-static-top">
                <!-- Sidebar toggle button-->
                <a href="#!" data-toggle="offcanvas" class="sidebar-toggle"></a>
                <ul class="top-nav lft-nav">
                    <li class="pc-rheader-submenu">
                        <a href="#!" class="drop icon-circle" onclick="javascript:toggleFullScreen()">
                            <i class="icon-size-fullscreen"></i>
                        </a>
                    </li>
                </ul>
                <!-- Navbar Right Menu-->
                <div class="navbar-custom-menu f-right">
                    <ul class="top-nav">
                        <!-- User Menu-->
                        <li class="dropdown">
                            <a href="#!" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle drop icon-circle drop-image">
                                <!-- <span><img class="img-circle " src="assets/images/avatar-1.png" style="width:40px;" alt="User Image"></span> -->
                                <span>Hi, <b>Sheshu</b> <i class=" icofont icofont-simple-down"></i></span>
                            </a>
                            <ul class="dropdown-menu settings-menu">
                                <li><a href="#!"><i class="icon-settings"></i> Settings</a></li>
                                <li><a href="#"><i class="icon-user"></i> Profile</a></li>
                                <li><a href="index.html"><i class="icon-logout"></i> Logout</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <!-- search end -->
    </div>
    </nav>
    </header>
    <!-- Side-Nav-->
    <aside class="main-sidebar hidden-print ">
        <section class="sidebar" id="sidebar-scroll">
            <!-- Sidebar Menu-->
            <ul class="sidebar-menu">
                <li class="nav-level">--- Navigation</li>
                <li class="treeview">
                  <a class="waves-effect waves-dark" href="#!"><i class="icon-speedometer"></i><span> Energy Audit</span><i class="icon-arrow-down"></i></a>
                  <ul class="treeview-menu">
                    <li><a class="waves-effect waves-dark" href="energy_audit.html"><i class="icon-arrow-right"></i> Dashboard</a></li>
                    <li><a class="waves-effect waves-dark" href="energy_audit-2.html"><i class="icon-arrow-right"></i> Tool Usefulness</a></li>
                  </ul>
                </li>
                <li class="treeview">
                  <a class="waves-effect waves-dark" href="outage_management.html">
                    <i class="icon-disc"></i><span> Outage Management</span>
                  </a>
                </li>
                <li class="treeview">
                  <a class="waves-effect waves-dark" href="PPA.html">
                    <i class="icon-disc"></i><span> Power Purchase</span>
                  </a>
                </li>
                <li class="treeview">
                  <a class="waves-effect waves-dark" href="#!"><i class="icon-speedometer"></i><span> Power Quality</span><i class="icon-arrow-down"></i></a>
                  <ul class="treeview-menu">
                    <li><a class="waves-effect waves-dark" href="pqms_power_management.html"><i class="icon-arrow-right"></i> Power Quality</a></li>
                    <li><a class="waves-effect waves-dark" href="pqms_peakload.html"><i class="icon-arrow-right"></i> Peak Load</a></li>
                    <li><a class="waves-effect waves-dark" href="pqms_loadbalance.html"><i class="icon-arrow-right"></i> Load Balance</a></li>
                    <li><a class="waves-effect waves-dark" href="pqms_phasebalance.html"><i class="icon-arrow-right"></i> Phase Balance</a></li>
                    <li><a class="waves-effect waves-dark" href="pqms_current_balancing.html"><i class="icon-arrow-right"></i> Current Balance</a></li>
                    <li><a class="waves-effect waves-dark" href="pqms_third_harmonic.html"><i class="icon-arrow-right"></i> Third Harmonics</a></li>
                  </ul>
                </li>
                <li class="treeview">
                  <a class="waves-effect waves-dark" href="#!"><i class="icon-speedometer"></i><span> Peak Load</span><i class="icon-arrow-down"></i></a>
                  <ul class="treeview-menu">
                    <li><a class="waves-effect waves-dark" href="plms_dashboard.html"><i class="icon-arrow-right"></i> Peak Load Supply</a></li>
                    <li><a class="waves-effect waves-dark" href="plms_pareto.html"><i class="icon-arrow-right"></i> Pareto Analysis</a></li>
                    <li><a class="waves-effect waves-dark" href="plms_loadmanagement.html"><i class="icon-arrow-right"></i> Load Management</a></li>
                    <li><a class="waves-effect waves-dark" href="plms_classification.html"><i class="icon-arrow-right"></i> Classification</a></li>
                    <li><a class="waves-effect waves-dark" href="plms_utilitymodel.html"><i class="icon-arrow-right"></i> Utility Model</a></li>
                    <li><a class="waves-effect waves-dark" href="plms_evaluation.html"><i class="icon-arrow-right"></i> Evaluation</a></li>
                    <li><a class="waves-effect waves-dark" href="plms_analysis.html"><i class="icon-arrow-right"></i> Analysis</a></li>
                    <li><a class="waves-effect waves-dark" href="plms_savings.html"><i class="icon-arrow-right"></i> Savings</a></li>
                    <li><a class="waves-effect waves-dark" href="plms_AImeasure.html"><i class="icon-arrow-right"></i> AI Measure</a></li>
                  </ul>
                </li>
                <li class="treeview">
                  <a class="waves-effect waves-dark" href="DSM.html">
                    <i class="icon-disc"></i><span> DSM</span>
                  </a>
                </li>
                <li class="active treeview">
                  <a class="waves-effect waves-dark" href="SM.html">
                      <i class="icon-disc"></i><span> Service Management</span>
                  </a>
                </li>
                <li class="treeview">
                    <a class="waves-effect waves-dark" href="revenue.html">
                        <i class="icon-energy"></i><span>Revenue</span>
                    </a>
                </li>

                <li class="treeview">
                    <a class="waves-effect waves-dark" href="prepaidbilling.html">
                        <i class="icon-energy"></i><span>Payment and Billing</span>
                    </a>
                </li>
                <li class="treeview">
                    <a class="waves-effect waves-dark" href="#!"><i class="icon-speedometer"></i><span> Field Management</span><i class="icon-arrow-down"></i></a>
                    <ul class="treeview-menu">
                      <li><a class="waves-effect waves-dark" href="fms.html"><i class="icon-arrow-right"></i> Task Management</a></li>
                      <li><a class="waves-effect waves-dark" href="perfomers.html"><i class="icon-arrow-right"></i> Performers</a></li>
                    </ul>
                    </li>
                    <li class="treeview">
                        <a class="waves-effect waves-dark" href="#!"><i class="icon-speedometer"></i><span> Asset Management</span><i class="icon-arrow-down"></i></a>
                        <ul class="treeview-menu">
                          <li><a class="waves-effect waves-dark" href="asset_management.html"><i class="icon-arrow-right"></i> Asset Management</a></li>
                          <li><a class="waves-effect waves-dark" href="financial_management.html"><i class="icon-arrow-right"></i> Finance</a></li>
                          <li><a class="waves-effect waves-dark" href="asset_requisition.html"><i class="icon-arrow-right"></i> Requisition</a></li>
                          <li><a class="waves-effect waves-dark" href="asset_procurement.html"><i class="icon-arrow-right"></i> Procurement</a></li>
                          <li><a class="waves-effect waves-dark" href="asset_inventory.html"><i class="icon-arrow-right"></i> Inventory</a></li>
                          <li><a class="waves-effect waves-dark" href="swlicense_management.html"><i class="icon-arrow-right"></i> SW License</a></li>
                          <li><a class="waves-effect waves-dark" href="asset_retirement.html"><i class="icon-arrow-right"></i> Asset Retirement</a></li>
                          <li><a class="waves-effect waves-dark" href="assetmanagementtools_hub.html"><i class="icon-arrow-right"></i> Asset Management Tools</a></li>
                          <li><a class="waves-effect waves-dark" href="process_guide.html"><i class="icon-arrow-right"></i> Process Guide</a></li>
                        </ul>
                    </li>
                    <li class="treeview">
                        <a class="waves-effect waves-dark" href="wfm_details.html">
                            <i class="icon-energy"></i><span>Work Force </span>
                        </a>
                    </li>
        
              </ul>
                </section>
    </aside>
    <div class="content-wrapper">
        <!-- Container-fluid starts -->
        <!-- Main content starts -->
        <div class="container-fluid">
            <div class="row">
                <div class="main-header">
                    <h4>Service Management</h4>
                </div>
            </div>
            <div class="row dashboard-header">
                <div class="col-lg-12 col-md-12">
                    <div class="card dashboard-product">
                        <ul class="nav nav-tabs md-tabs" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#home3" role="tab">Ticket Tracker</a>
                                <div class="slide"></div>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#profile3" role="tab">Create Ticket</a>
                                <div class="slide"></div>
                            </li>
                        </ul>
                        <!-- Tab panes -->
                        <div class="tab-content">
                            <div class="tab-pane active" id="home3" role="tabpanel">
                                <div class="card-header">
                                    <div class="form-group row">
                                        <div class="col-sm-10">
                                            <input class="form-control" style="border-radius: 30px;" type="text" value="" placeholder="Search Items" id="example-text-input">
                                        </div>
                                    </div>
                                </div>
                                <div class="card-block" style="margin-top: -26px;">
                                    <div class="row">
                                        <div class="col-sm-12 table-responsive">
                                            <table class="table table-hover" style="margin-bottom: 0;line-height: 0.6;">
                                                <thead>
                                                    <tr>
                                                        <th>#</th>
                                                        <th>Name</th>
                                                        <th>Phone Number</th>
                                                        <th>Address</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>1<span style="margin-left: 14px;"><input type="checkbox">
                                                                <a href=""><i class="ti-eye text-success"></i></a>
                                                                <a href=""><i class="ti-pencil-alt text-info"></i></a>
                                                                <a href=""><i class="ti-trash text-danger"></i></a>
                                                            </span></td>
                                                        <td>Kamalesh Arumugam</td>
                                                        <td>+91-9123456789</td>
                                                        <td>H.No:1-23, 3rd cross street, Ashok Nagar, Chennai-600083</td>
                                                    </tr>
                                                    <tr>
                                                        <td>2<span style="margin-left: 14px;"><input type="checkbox">
                                                                <a href=""><i class="ti-eye text-success"></i></a>
                                                                <a href=""><i class="ti-pencil-alt text-info"></i></a>
                                                                <a href=""><i class="ti-trash text-danger"></i></a>
                                                            </span></td>
                                                        <td>Kamalesh Arumugam</td>
                                                        <td>+91-9123456789</td>
                                                        <td>H.No:1-23, 3rd cross street, Ashok Nagar, Chennai-600083</td>
                                                    </tr>
                                                    <tr>
                                                        <td>3<span style="margin-left: 14px;"><input type="checkbox">
                                                                <a href=""><i class="ti-eye text-success"></i></a>
                                                                <a href=""><i class="ti-pencil-alt text-info"></i></a>
                                                                <a href=""><i class="ti-trash text-danger"></i></a>
                                                            </span></td>
                                                        <td>Kamalesh Arumugam</td>
                                                        <td>+91-9123456789</td>
                                                        <td>H.No:1-23, 3rd cross street, Ashok Nagar, Chennai-600083</td>
                                                    </tr>
                                                    <tr>
                                                        <td>4<span style="margin-left: 14px;"><input type="checkbox">
                                                                <a href=""><i class="ti-eye text-success"></i></a>
                                                                <a href=""><i class="ti-pencil-alt text-info"></i></a>
                                                                <a href=""><i class="ti-trash text-danger"></i></a>
                                                            </span></td>
                                                        <td>Kamalesh Arumugam</td>
                                                        <td>+91-9123456789</td>
                                                        <td>H.No:1-23, 3rd cross street, Ashok Nagar, Chennai-600083</td>
                                                    </tr>
                                                    <tr>
                                                        <td>5<span style="margin-left: 14px;"><input type="checkbox">
                                                                <a href=""><i class="ti-eye text-success"></i></a>
                                                                <a href=""><i class="ti-pencil-alt text-info"></i></a>
                                                                <a href=""><i class="ti-trash text-danger"></i></a>
                                                            </span></td>
                                                        <td>Kamalesh Arumugam</td>
                                                        <td>+91-9123456789</td>
                                                        <td>H.No:1-23, 3rd cross street, Ashok Nagar, Chennai-600083</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="profile3" role="tabpanel">
                                <br>
                                <h5>Please Describe the Issue Here</h5>
                                <textarea name="content" id="editor">
                                    &lt;p&gt;This is some sample content.&lt;/p&gt;
                                </textarea><br>
                                <h5>Upload Files</h5>
                                <div id="file-uploader1" class="wrapper js" style="margin-top: -18px;"></div>
                                <script type="text/template" id="file-uploader-template">
                                    <form class="js--upload-form is-droppable">
                                        <span class="text--center">
                                            <i class="fa fa-cloud-upload fa-2"></i>
                                            <span class="js--advanced-upload">Drop files to attach, or <label class="btn btn--link" for="file">browse</label></span>
                                            <input type="file" name="files[]" id="file" class="js--basic-upload hide" data-multiple-caption="{count} files selected" multiple="" accept=".pdf,.xlsx">
                                        </span>
                                        <table class="js--files-list" border="0"></table>
                                    </form>
                                </script>
                                <script type="text/template" id="document-item-view">
                                    <td><a href="<%= data %>" download="<%= name %>" target="_blank"><%= name %></a></td>
                                    <td><%= type %>
                                    <td><button class="btn btn--link js--remove-file"><i class="ti-trash text-danger"></i></button></td>
                                </script>
                                <form>
                                    <div class="form-group row">
                                        <label for="example-text-input" class="col-xs-2 col-form-label form-control-label">Customer Name</label>
                                        <div class="col-sm-10">
                                            <input class="form-control" type="text" placeholder="Customer Name" id="example-text-input">
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="example-tel-input" class="col-xs-2 col-form-label form-control-label">PhoneNumber</label>
                                        <div class="col-sm-10">
                                            <input class="form-control" type="tel" placeholder="(555)-555-5555" id="example-tel-input" pattern="[0-9]">
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="example-tel-input" class="col-xs-2 col-form-label form-control-label">Priority Level</label>
                                        <div class="col-sm-10">
                                            <select class="form-control " id="exampleSelect1">
                                                <option value="">-Select-</option>
                                                <option value="High">High</option>
                                                <option value="Midium">Midium</option>
                                                <option value="Low">Low</option>
                                            </select></div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="example-text-input" class="col-xs-2 col-form-label form-control-label">Cunsumer Number</label>
                                        <div class="col-sm-10">
                                            <input class="form-control" type="text" placeholder="Cunsumer Number" id="example-text-input" pattern="[0-9]+">
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="example-datetime-local-input" class="col-xs-2 col-form-label form-control-label">Date of Issue</label>
                                        <div class="col-sm-10">
                                            <input class="form-control" type="datetime-local" placeholder="2011-08-19T13:45:00" id="example-datetime-local-input">
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="example-text-input" class="col-xs-2 col-form-label form-control-label">Address</label>
                                        <div class="col-sm-10">
                                            <textarea class="form-control" placeholder="Address" id="exampleTextarea" rows="4"></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="example-text-input" class="col-xs-2 col-form-label form-control-label" style="visibility: hidden;">Address</label>
                                        <div class="col-sm-10" style="text-align: center;">
                                        <button style="margin-left: -157px;" type="button" class="btn btn-success waves-effect waves-light">Create Ticket</button>
                                      
                                        <button style="margin-left: 60px;" type="reset" class="btn btn-warning waves-effect waves-light">Reset</button>
                                        
                                        
                                        <button style="margin-left: 60px;" type="reset" class="btn btn-info waves-effect waves-light">Cancel</button>
                                    </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Main content ends -->
    <!-- Container-fluid ends -->
    </div>
    </div>
    <!-- Required Jqurey -->
    <script src="assets/plugins/Jquery/dist/jquery.min.js"></script>
    <script src="assets/plugins/jquery-ui/jquery-ui.min.js"></script>
    <script src="assets/plugins/tether/dist/js/tether.min.js"></script>
    <!-- Required Fremwork -->
    <script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <!-- Scrollbar JS-->
    <script src="assets/plugins/jquery-slimscroll/jquery.slimscroll.js"></script>
    <script src="assets/plugins/jquery.nicescroll/jquery.nicescroll.min.js"></script>
    <!--classic JS-->
    <script src="assets/plugins/classie/classie.js"></script>
    <!-- notification -->
    <script src="assets/plugins/notification/js/bootstrap-growl.min.js"></script>
    <!-- Sparkline charts -->
    <script src="assets/plugins/jquery-sparkline/dist/jquery.sparkline.js"></script>
    <!-- Counter js  -->
    <script src="assets/plugins/waypoints/jquery.waypoints.min.js"></script>
    <script src="assets/plugins/countdown/js/jquery.counterup.js"></script>
    <script type="text/javascript" src="assets/js/main.min.js"></script>
    <script type="text/javascript" src="assets/pages/elements.js"></script>
    <script src="https://cdn.ckeditor.com/ckeditor5/11.0.1/classic/ckeditor.js"></script>
    <script src="assets/js/menu.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/backbone.marionette/2.4.7/backbone.marionette.min.js"></script>
    <script>
    ClassicEditor
        .create(document.querySelector('#editor'))
        .catch(error => {
            console.error(error);
        });

    var isAdvancedUpload = function() {
        var div = document.createElement('div');
        return (('draggable' in div) || ('ondragstart' in div && 'ondrop' in div)) && 'FormData' in window && 'FileReader' in window;
    }();

    var tests = {
        filereader: typeof FileReader != 'undefined',
        dnd: 'draggable' in document.createElement('span'),
        formdata: !!window.FormData,
        progress: "upload" in new XMLHttpRequest
    };

    var supports = {
        FileReader: 'FileReader' in window // typeof FileReader != 'undefined'
    };

    // var support = {
    //  filereader  : document.getElementById('filereader'),
    //  formdata    : document.getElementById('formdata'),
    //  progress    : document.getElementById('progress')
    // };
    var acceptedTypes = {
        'application/pdf': true,
        'image/png': true,
        'image/jpeg': true,
        'image/gif': true
    };

    const acceptedMimeTypes = {
        '.pdf': 'application/pdf',
        '.doc': 'application/msword',
        '.docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
        '.rtf': 'text/rtf',
        '.xls': '',
        '.xlsx': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
        '.csv': 'text/csv',
        '.jpg': 'image/jpeg',
        '.jpeg': 'image/jpeg',
        '.txt': 'text/plain'
    };

    var FileModel = Backbone.Model.extend({
        defaults: {
            name: null,
            type: null,
            size: null,
            data: null,
            lastModified: null,
            lastModifiedDate: null
        }
    });

    var FilesCollection = Backbone.Collection.extend({
        model: FileModel,
        url: null
    });

    var FileView = Marionette.ItemView.extend({
        tagName: 'tr',
        model: FileModel,
        // template : _.template('<a href="<%= data %>" download="<%= name %>" target="_blank"><%= name %></a>'),
        // template : _.template('<a href="<%= data %>" download="<%= name %>" target="_blank"><%= name %></a> <button class="btn btn--link js--remove-file"><i class="fa fa-times-circle"></i></button>'),
        template: '#document-item-view',

        ui: {
            btnRemoveFile: '.js--remove-file'
        },

        events: {
            'click @ui.btnRemoveFile': 'btnRemoveFileClicked'
        },

        initialize: function() {
            console.log("FileView :: initialize", this.options);
        },

        onRender: function() {
            console.log("FileView :: onRender", this.model.toJSON());
        },

        btnRemoveFileClicked: function() {
            this.triggerMethod("remove:file", this.model);
        }

    });

    var FilesListView = Marionette.CompositeView.extend({

        // tagName              : 'ul',
        // template         : '.js--upload-form',
        childViewContainer: '.js--files-list',
        childView: FileView,
        collection: FilesCollection,

        //  template: _.template(''),

        // });

        // var FileUploaderView = Marionette.LayoutView.extend({

        template: '#file-uploader-template',
        // regions: {
        //  fileUploader: '.js--uploaded-files'
        // },

        onRender: function() {
            // var fileUploader = new FilesListView({collection: new FilesCollection()});
            // this.showChildView('fileUploader', fileUploader);
        },

        ui: {
            basicUpload: '.js--basic-upload',
            advancedUpload: '.js--advanced-upload',
            form: '.js--upload-form',
            fileInput: 'input[type="file"]'
        },

        events: {
            'change @ui.fileInput': 'onFilesSelected',
            // 'drop @ui.form' : 'onFilesDropped'
        },

        // modelEvents: {
        //  'change:data': 'reRenderCollection'
        // },

        // collectionEvents: {
        //  add: 'onRenderCollection'
        // },

        initialize: function() {
            console.log("FilesListView :: initialize", this.options);
        },

        onChildviewRemoveFile: function(cv, model) {
            console.log("FilesListView :: onChildviewRemoveFile", cv, model);
            this.collection.remove(model);
        },

        onRender: function() {
            console.log("FilesListView :: onRender", this.collection.toJSON());

            if (isAdvancedUpload) {

                this.ui.advancedUpload.removeClass('hide');
                this.ui.basicUpload.addClass('hide');

                var $form = this.ui.form;
                $form
                    .on('drag dragstart dragend dragover dragenter dragleave drop', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                    })
                    .on('dragover dragenter', function() {
                        $form.addClass('is-dragover');
                    })
                    .on('dragleave dragend drop', function() {
                        $form.removeClass('is-dragover');
                    });

                $form.on('drop', this.onFilesDropped.bind(this));

            } else {

                this.ui.advancedUpload.addClass('hide');
                this.ui.basicUpload.removeClass('hide');

            }
        },

        //  reRenderCollection: function() {
        //      console.log("FilesListView :: reRenderCollection", this.collection.toJSON());
        //      this.triggerMethod("render:collection");
        //  },

        //  onRenderCollection: function() {
        //      console.log("FilesListView :: onRenderCollection", this.collection.toJSON());
        //  },

        onFilesSelected: function(e) {
            console.debug("onFilesSelected", e);
            this.triggerMethod("read:files", e.currentTarget.files);
        },

        onFilesDropped: function(e) {
            console.debug("onFilesDropped", e);
            // if (!tests.formdata) {
            //  console.log("FormData is not supported in this browser");
            //  return;
            // }
            this.triggerMethod("read:files", e.originalEvent.dataTransfer.files);
        },

        onReadFiles: function(files) {
            // var formData = tests.formdata ? new FormData() : null;
            // var filesCollection = new FilesCollection();
            for (var i = 0; i < files.length; i++) {
                var fileModel = new FileModel(files[i]);
                // this.collection.add(fileModel);
                // formData.append('file', files[i]);
                this.triggerMethod("read:file", files[i], fileModel);
            }
        },

        onReadFile: function(file, fileModel) {
            var self = this;
            // if (tests.filereader === true && acceptedTypes[file.type] === true) {
            var reader = new FileReader();
            reader.onload = function(event) {
                var fileData = event.target.result;
                fileModel.set("data", fileData);
                console.log("fileModel:", fileModel.toJSON());
                self.collection.add(fileModel);
            };
            reader.readAsDataURL(file);
            // }  else {
            //  // holder.innerHTML += '<p>Uploaded ' + file.name + ' ' + (file.size ? (file.size/1024|0) + 'K' : '');
            //  console.log(file);
            // }
        }

    })

    var filesListView1 = new FilesListView({ el: '#file-uploader1', collection: new FilesCollection() });
    //var filesListView2 = new FilesListView({ el: '#file-uploader2', collection: new FilesCollection() });
    filesListView1.render();
    // filesListView2.render();
    </script>
</body>

</html>